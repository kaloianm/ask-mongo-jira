# Example configuration file for analyze_code_changes.py
# Copy this to config.toml and customize as needed
# Contains prompts, questions, and OpenAI API settings

[openai]
# System prompt for OpenAI API - customize this to change how the AI analyzes code
system_prompt = """You are an expert software engineer analyzing code changes. Provide detailed, technical analysis focusing on code quality, potential issues, and impact assessment. Be specific about MongoDB server development practices."""

[analysis_questions]
# Minimum total line changes for potential issues analysis (set to 0 to analyze all changes)
min_patch_length = 50

# Question templates - use {issue_key}, {issue_summary}, {issue_description}, {repositories}, 
# {commit_count}, {file_count}, {commits_summary}, {files_summary} as variables

[analysis_questions.change_summary]
type = "issue_summary"
template = """Please analyze this JIRA issue and provide a comprehensive summary:

Issue: {issue_key} - {issue_summary}
Description: {issue_description}
Repositories: {repositories}
Commits: {commit_count} commit(s)
Files Changed: {file_count} file(s)

Commit Summary:
{commits_summary}

Files Changed:
{files_summary}

Please provide:
1. A comprehensive summary of what was implemented/changed
2. The overall purpose and scope of this issue
3. Key technical components and areas affected
4. How the commits work together to address the issue"""

[analysis_questions.potential_issues]
type = "issue_potential_issues"
template = """Please review this JIRA issue implementation for potential issues:

Issue: {issue_key} - {issue_summary}
Description: {issue_description}
Repositories: {repositories}
Commits: {commit_count} commit(s)
Files Changed: {file_count} file(s)

Commit Summary:
{commits_summary}

Files Changed:
{files_summary}

Please identify:
1. Any potential bugs or logical errors across the implementation
2. Performance concerns from the collective changes
3. Security implications of the complete feature/fix
4. Code quality issues and architectural concerns
5. Missing error handling or edge cases in the implementation
6. Integration issues between the different commits/changes"""

[analysis_questions.impact_assessment]
type = "issue_impact_assessment"
template = """Please assess the overall impact of this JIRA issue implementation:

Issue: {issue_key} - {issue_summary}
Description: {issue_description}
Repositories: {repositories}
Commits: {commit_count} commit(s)
Files Changed: {file_count} file(s)

Commit Summary:
{commits_summary}

Files Changed:
{files_summary}

Please evaluate:
1. What major components/modules are affected by this complete implementation
2. Potential breaking changes for API consumers and downstream systems
3. Database/schema changes and their implications
4. Performance impact (positive or negative) of the entire feature/fix
5. Testing requirements this implementation would need
6. Deployment and rollback considerations
7. Dependencies and integration points affected"""